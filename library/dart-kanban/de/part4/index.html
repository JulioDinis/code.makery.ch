<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Dart Kanban - Teil 4: Elemente verschieben | code.makery.ch</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--
    /**
     * @license
     * MyFonts Webfont Build ID 2872352, 2014-08-27T06:57:40-0400
     * 
     * The fonts listed in this notice are subject to the End User License
     * Agreement(s) entered into by the website owner. All other parties are 
     * explicitly restricted from using the Licensed Webfonts(s).
     * 
     * You may obtain a valid license at the URLs below.
     * 
     * Webfont: Museo Slab 700 by exljbris
     * URL: http://www.myfonts.com/fonts/exljbris/museo-slab/700/
     * Copyright: Copyright (c) 2009 by Jos Buivenga. All rights reserved.
     * Licensed pageviews: 500,000
     * 
     * License: http://www.myfonts.com/viewlicense?type=web&buildid=2872352
     * 
     * © 2014 MyFonts Inc
    */
    -->
    <link href="/theme/css/style.min.css" rel="stylesheet" type="text/css" media="all" />
    <link rel="canonical" href="http://code.makery.ch/library/dart-kanban/de/part4/" />
  

    <!-- RSS Feed -->
    <link rel="alternate" type="application/rss+xml" href="/rss" title="code.makery.ch - RSS Feed">

    <meta name="description" content="Mit Dart HTML-Elemente verschieben und löschen. Auf Klick-Events reagieren.">

    <!-- Twitter Card data -->
    <meta name="twitter:card" value="summary">

    <!-- Open Graph data -->
    <meta property="og:title" content="Dart Kanban - Teil 4: Elemente verschieben | code.makery.ch" />
    <meta property="og:type" content="article" />
    <meta property="og:description" content="Mit Dart HTML-Elemente verschieben und löschen. Auf Klick-Events reagieren." />
    <meta property="og:url" content="http://code.makery.ch/library/dart-kanban/de/part4/" />
    <meta property="og:image" content="http://code.makery.ch/assets/library/dart-kanban/dart-kanban.png" />
    
    <link rel="author" href="https://plus.google.com/+MarcoJakob7"/>
    
    <link href="/theme/css/prettify.min.css" rel="stylesheet" type="text/css" media="all" />

    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-34917397-3', 'makery.ch');
  ga('send', 'pageview');
</script>
  </head>
  <body onload="prettyPrint()">
    <header class="site-header container">
  <h1 class="site-title">
    <a href="/"><span class="main-text">code</span>.makery</a>
  </h1>
  <div class="site-intro">
    <p>Learning how to code.</p>
  </div>
  
  <div class="ribbon">
    <a href="https://tinyletter.com/codemakery" title="Get Updates">Subscribe to <i class="fa fa-envelope-o"></i> Updates </a>
  </div>
</header>
    
    <div class="container article-container">
      
<nav class="site-navigation">
  <ul>
    <li><a class="black-link" href="/">Home</a></li>
    <li><a class="main-link" href="/library/">Library</a></li>
    <li><a class="black-link" href="/paths/">Paths</a></li>
    <li><a class="black-link" href="/blog/">Blog</a></li>
    <li><a class="black-link" href="/about/">About</a></li>
  </ul>
</nav>
      
      <div class="row">
        <div class="col-md-12">
          <div class="github-edit">
            <a href="https://github.com/marcojakob/code.makery.ch/edit/master/collections/library/dart-kanban-de-part4.md">Edit on GitHub</a>
          </div>
        </div>
      </div>
      
      <article class="row">
        <aside class="col-md-3">
          <div class="visible-md-block visible-lg-block">
          <div class="panel panel-default sidebar">
  <div class="panel-heading">
    <h4 class="panel-title">Artikel dieser Serie</h4>  
  </div>

  <div class="list-group">
      <a href="/library/dart-kanban/de/" class="list-group-item">
        Einleitung</a>
      <a href="/library/dart-kanban/de/install/" class="list-group-item">
<i class="fa fa-fw fa-cog"></i>        Dart Editor installieren</a>
      <a href="/library/dart-kanban/de/part1/" class="list-group-item">
        Teil 1: Webapp erstellen</a>
      <a href="/library/dart-kanban/de/part2/" class="list-group-item">
        Teil 2: HTML vorbereiten</a>
      <a href="/library/dart-kanban/de/part3/" class="list-group-item">
        Teil 3: Element hinzufügen</a>
      <a href="/library/dart-kanban/de/part4/" class="list-group-item active">
        Teil 4: Element verschieben</a>
      <a href="/library/dart-kanban/de/part5/" class="list-group-item">
        Teil 5: Veröffentlichen</a>
      <a href="/library/dart-kanban/de/next/" class="list-group-item">
<i class="fa fa-fw fa-flag-checkered"></i>        Nächste Schritte</a>
  </div>
</div>
<div class="panel panel-default sidebar">
  <div class="panel-heading">
    <h4 class="panel-title">Source Code</h4>  
  </div>

  <div class="list-group">
      <a href="https://github.com/marcojakob/tutorial-dart-kanban" class="list-group-item">
<i class="fa fa-fw fa-github"></i>        Beispielcode auf GitHub</a>
  </div>
</div>

          
          </div>
        </aside>
        <div class="col-md-9">
          <header class="article-header">
            <h1 class="article-title">Dart Kanban - Teil 4: Elemente verschieben</h1>
            <div class="article-date">
  Mar 23, 2015

</div>
          </header>
          
          <aside class="visible-xs-block visible-sm-block">
            <div class="btn-group sidebar-dropdown">
  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">Artikel dieser Serie <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" role="menu">
      <li class=""><a href="/library/dart-kanban/de/">
        Einleitung</a></li>
      <li class=""><a href="/library/dart-kanban/de/install/">
<i class="fa fa-fw fa-cog"></i>        Dart Editor installieren</a></li>
      <li class=""><a href="/library/dart-kanban/de/part1/">
        Teil 1: Webapp erstellen</a></li>
      <li class=""><a href="/library/dart-kanban/de/part2/">
        Teil 2: HTML vorbereiten</a></li>
      <li class=""><a href="/library/dart-kanban/de/part3/">
        Teil 3: Element hinzufügen</a></li>
      <li class=" active"><a href="/library/dart-kanban/de/part4/">
        Teil 4: Element verschieben</a></li>
      <li class=""><a href="/library/dart-kanban/de/part5/">
        Teil 5: Veröffentlichen</a></li>
      <li class=""><a href="/library/dart-kanban/de/next/">
<i class="fa fa-fw fa-flag-checkered"></i>        Nächste Schritte</a></li>
  </ul>
</div>
<div class="btn-group sidebar-dropdown">
  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">Source Code <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" role="menu">
      <li class=""><a href="https://github.com/marcojakob/tutorial-dart-kanban">
<i class="fa fa-fw fa-github"></i>        Beispielcode auf GitHub</a></li>
  </ul>
</div>

            
          </aside>
          
          <div class="article-content">
            <p>Im vorherigen Teil haben wir gelernt, wie wir neue Todos zu unserer Liste hinzufügen können. Damit das Kanban Board auch voll funktioniert, müssen die Todos aus der <em>Todo</em>-Spalte in die beiden anderen Spalten <em>Doing</em> und <em>Done</em> verschoben werden können. </p>
<h2 id="html-elemente-verschieben-und-l-schen">HTML-Elemente verschieben und löschen</h2>
<p>Zum Verschieben unserer Todo-Elemente werden wir auf die Klick-Events reagieren, ähnlich wie beim Knopf. Zuerst brauchen wir eine weitere Funktion für solche Events.</p>
<p>Fügen Sie folgende Funktion am Schluss der Dart-Datei ein:</p>
<pre class="prettyprint lang-dart">
/// Verschiebt ein Todo-Element zur 'doing' oder 'done' Liste oder löscht es,
/// wenn es in der letzten Liste angeklickt wird.
void moveItem(Event e) {

  // Holt das gecklickte Element aus dem Event.
  Element item = e.target;

  // Verschieben oder löschen, je nach dem in welcher Liste das Element ist.
  if (item.parent == todoList) {
    doingList.children.add(item);
  } else if (item.parent == doingList) {
    doneList.children.add(item);
  } else {
    item.remove();
  }
}
</pre>


<h4 id="erkl-rungen">Erklärungen</h4>
<p>Mit <code>e.target</code> erhält man das Element, auf welches der Benutzer geklickt hat.</p>
<p>Mit den <code>if</code>-Bedingungen prüfen wir, in welcher Liste das geklickte Element sich befindet. Mit <code>.parent</code> erhalten wir das übergeordnete Element, welches eines unserer drei Listen ist.</p>
<p>Um ein Element im HTML-Dokument zu verschieben, können wir es einfach an die neue Liste hinzufügen. Ein Element kann immer nur an einer Stelle vorkommen. Deshalb wird es automatisch von der vorherigen Liste gelöscht und in die neue eingefügt.</p>
<p>Falls das Element in der letzten Liste geklickt wurde, entfernen wir es.</p>
<h2 id="auf-klick-events-reagieren">Auf Klick-Events reagieren</h2>
<p>Die Funktion haben wir parat. Jetzt müssen wir diese nur noch im richtigen Moment aufrufen.</p>
<p>Fügen Sie in der <code>addTodoItem()</code>-Funktion eine Zeile hinzu:</p>
<pre class="prettyprint lang-dart">
/// Fügt ein neues Todo-Element zur Liste hinzu.
void addTodoItem(Event e) {
  AnchorElement newTodo = new AnchorElement();
  newTodo.href = '#';
  newTodo.text = todoInput.value;
  newTodo.classes.add('list-group-item');

  <mark>newTodo.onClick.listen(moveItem);</mark>

  todoList.children.add(newTodo);

  // Löscht das Textfeld.
  todoInput.value = '';
}
</pre>

<p>Mit dieser Zeile wird bei jedem neuen Todo-Element gleich ein Klick-Event-Listener hinzugefügt. Das bedeutet, sobald auf ein Todo-Element geklickt wird, wird die Funktion <code>moveItem()</code> aufgerufen.</p>
<h2 id="abschliessen-und-testen">Abschliessen und Testen</h2>
<p>Nun können Sie das Programm testen indem Sie ein neues Todo hinzufügen und dieses dann anklicken. Es sollte jeweils in die nächste Liste verschoben und am Schluss gelöscht werden.</p>
<p>Wahrscheinlich werden Sie feststellen, dass das Element, welches wir als Beispiel direkt in die HTML-Datei geschrieben haben, nicht auf Klicks reagiert. Der Grund ist, dass wir nur bei den neuen Elementen einen Klick-Event-Listener hinzufügen, jedoch nicht bei den bestehenden Elementen.</p>
<p>Öffnen Sie nochmals die <code>index.html</code>-Datei und entfernen Sie das <code>&lt;a&gt;</code>-Element: </p>
<pre class="prettyprint lang-html">
<del>&lt;a href="#" class="list-group-item">Mein erstes Todo&lt;/a></del>
</pre>


<h2 id="wie-weiter-">Wie weiter?</h2>
<p>Im <a href="/library/dart-kanban/de/part5/">Teil 5</a> schauen wir an, wie wir unser Kanban Board von Dart nach JavaScript übersetzen können. Dann können wir es schliesslich auf einen Webserver laden und veröffentlichen.</p>


          </div>
          
          <hr>
          
  <nav>
    <div class="article-paging">
      <ul class="pagination">
              <li>
      <a href="/library/dart-kanban/de/" data-toggle="tooltip" title="Einleitung">Einleitung</a>
      </li>
        <li>
      <a href="/library/dart-kanban/de/install/" data-toggle="tooltip" title="Dart Editor installieren"><i class="fa fa-cog"></i></a>
      </li>
        <li>
      <a href="/library/dart-kanban/de/part1/" data-toggle="tooltip" title="Teil 1: Webapp erstellen">1</a>
      </li>
        <li>
      <a href="/library/dart-kanban/de/part2/" data-toggle="tooltip" title="Teil 2: HTML vorbereiten">2</a>
      </li>
        <li>
      <a href="/library/dart-kanban/de/part3/" data-toggle="tooltip" title="Teil 3: Element hinzufügen">3</a>
      </li>
        <li class="active">
      <a href="/library/dart-kanban/de/part4/" data-toggle="tooltip" title="Teil 4: Element verschieben">4</a>
      </li>
        <li>
      <a href="/library/dart-kanban/de/part5/" data-toggle="tooltip" title="Teil 5: Veröffentlichen">5</a>
      </li>
        <li>
      <a href="/library/dart-kanban/de/next/" data-toggle="tooltip" title="Nächste Schritte"><i class="fa fa-flag-checkered"></i></a>
      </li>
    
      </ul>
    </div>
  </nav>

        </div>
      </article>
      
      
      <section class="row">
        <div class="col-md-offset-3 col-md-9">
          <h2>Comments</h2>
          <div id="disqus_thread"></div>
        </div>
      </section>
      
    </div>
        
    <footer class="site-footer container-fluid">
  <div class="row">
    <div class="col-sm-offset-2 col-sm-8">
      <p>
        <a class="btn btn-sm btn-social-icon btn-twitter" href="https://twitter.com/codemakery" data-toggle="tooltip" data-placement="top" title="Follow me on Twitter">
          <i class="fa fa-twitter"></i>
        </a>
        <a class="btn btn-sm btn-social-icon btn-googleplus" href="https://plus.google.com/+MarcoJakob7" data-toggle="tooltip" data-placement="top" title="Follow me on Google+">
          <i class="fa fa-google-plus"></i>
        </a>
        <a class="btn btn-sm btn-social-icon btn-rss" href="/rss" data-toggle="tooltip" data-placement="top" title="Subscribe to RSS Feed">
          <i class="fa fa-rss"></i>
        </a>
        <a class="btn btn-sm btn-social-icon btn-mail" href="https://tinyletter.com/codemakery" data-toggle="tooltip" data-placement="top" title="Receive Email Updates">
          <i class="fa fa-envelope" style="margin-top: -1px;"></i>
        </a>
      </p>
      <p>
        Subscribe to receive updates by <a href="https://tinyletter.com/codemakery">Email</a>.
      </p>
      
      <form class="form-inline" action="https://tinyletter.com/codemakery" method="post" target="popupwindow" onsubmit="window.open('https://tinyletter.com/codemakery', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true">
        <div class="form-group">
          <input type="text" class="form-control" name="email" id="tlemail" placeholder="Enter email" />
          <input type="hidden" value="1" name="embed"/>
          <input type="submit" class="form-control btn-primary" value="Get updates" />
        </div>
      </form>
      
      <p>
        <small>
          Created by <a href="/about">Marco Jakob</a> • Licensed under <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0</a>
        </small>
      </p>
    </div>
  </div>
</footer>

    
    
    
  <script type="text/javascript" src="/theme/js/prettify.min.js"></script>

                                    
  <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'codemakery'; // Required - the forum shortname
    var disqus_identifier = '/library/dart-kanban/de/part4/';
    var disqus_url = 'http://code.makery.ch/library/dart-kanban/de/part4/';
    var disqus_title = 'Dart Kanban - Teil 4: Elemente verschieben';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>

    

    
      <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
      <script type="text/javascript" src="/theme/js/bootstrap.min.js"></script>
      <script type="text/javascript" src="/theme/js/bootstrap-init-tooltips.min.js"></script>
    
  </body>
</html>