<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>JavaFX 2 Tutorial - Part 2: Model and TableView | code.makery.ch</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--
    /**
     * @license
     * MyFonts Webfont Build ID 2872352, 2014-08-27T06:57:40-0400
     * 
     * The fonts listed in this notice are subject to the End User License
     * Agreement(s) entered into by the website owner. All other parties are 
     * explicitly restricted from using the Licensed Webfonts(s).
     * 
     * You may obtain a valid license at the URLs below.
     * 
     * Webfont: Museo Slab 700 by exljbris
     * URL: http://www.myfonts.com/fonts/exljbris/museo-slab/700/
     * Copyright: Copyright (c) 2009 by Jos Buivenga. All rights reserved.
     * Licensed pageviews: 500,000
     * 
     * License: http://www.myfonts.com/viewlicense?type=web&buildid=2872352
     * 
     * © 2014 MyFonts Inc
    */
    -->
    <link href="/theme/css/style.min.css" rel="stylesheet" type="text/css" media="all" />
    <link rel="canonical" href="http://code.makery.ch/library/javafx-2-tutorial/part2/" />
  

    <!-- RSS Feed -->
    <link rel="alternate" type="application/rss+xml" href="/rss" title="code.makery.ch - RSS Feed">

    <meta name="description" content="Use a JavaFX TableView to display an ObservableList of Persons.">

    <!-- Twitter Card data -->
    <meta name="twitter:card" value="summary">

    <!-- Open Graph data -->
    <meta property="og:title" content="JavaFX 2 Tutorial - Part 2: Model and TableView | code.makery.ch" />
    <meta property="og:type" content="article" />
    <meta property="og:description" content="Use a JavaFX TableView to display an ObservableList of Persons." />
    <meta property="og:url" content="http://code.makery.ch/library/javafx-2-tutorial/part2/" />
    <meta property="og:image" content="http://code.makery.ch" />
    
    <link rel="author" href="https://plus.google.com/+MarcoJakob7"/>
    
    <link href="/theme/css/prettify.min.css" rel="stylesheet" type="text/css" media="all" />

    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-34917397-3', 'makery.ch');
  ga('send', 'pageview');
</script>
  </head>
  <body onload="prettyPrint()">
    <header class="site-header container">
  <h1 class="site-title">
    <a href="/"><span class="main-text">code</span>.makery</a>
  </h1>
  <div class="site-intro">
    <p>Learning how to code.</p>
  </div>
  
  <div class="ribbon">
    <a href="https://tinyletter.com/codemakery" title="Get Updates">Subscribe to <i class="fa fa-envelope-o"></i> Updates </a>
  </div>
</header>
    
    <div class="container article-container">
      
<nav class="site-navigation">
  <ul>
    <li><a class="black-link" href="/">Home</a></li>
    <li><a class="main-link" href="/library/">Library</a></li>
    <li><a class="black-link" href="/paths/">Paths</a></li>
    <li><a class="black-link" href="/blog/">Blog</a></li>
    <li><a class="black-link" href="/about/">About</a></li>
  </ul>
</nav>
      
      <div class="row">
        <div class="col-md-12">
          <div class="github-edit">
            <a href="https://github.com/marcojakob/code.makery.ch/edit/master/collections/library/javafx-2-tutorial-part2.md">Edit on GitHub</a>
          </div>
        </div>
      </div>
      
      <article class="row">
        <aside class="col-md-3">
          <div class="visible-md-block visible-lg-block">
          <div class="panel panel-default sidebar">
  <div class="panel-heading">
    <h4 class="panel-title">Articles in this Series</h4>  
  </div>

  <div class="list-group">
      <a href="/library/javafx-2-tutorial/" class="list-group-item">
        Introduction</a>
      <a href="/library/javafx-2-tutorial/part1/" class="list-group-item">
        Part 1: Scene Builder</a>
      <a href="/library/javafx-2-tutorial/part2/" class="list-group-item active">
        Part 2: Model and TableView</a>
      <a href="/library/javafx-2-tutorial/part3/" class="list-group-item">
        Part 3: Interacting with the User</a>
      <a href="/library/javafx-2-tutorial/part4/" class="list-group-item">
        Part 4: CSS Styling</a>
      <a href="/library/javafx-2-tutorial/part5/" class="list-group-item">
        Part 5: Storing Data as XML</a>
      <a href="/library/javafx-2-tutorial/part6/" class="list-group-item">
        Part 6: Statistics Chart</a>
      <a href="/library/javafx-2-tutorial/part7/" class="list-group-item">
        Part 7: Deployment with e(fx)clipse</a>
  </div>
</div>
<div class="panel panel-default sidebar">
  <div class="panel-heading">
    <h4 class="panel-title">Download Sources</h4>  
  </div>

  <div class="list-group">
      <a href="https://github.com/marcojakob/tutorial-javafx-2/releases/download/v1.0/addressapp-part-2.zip" class="list-group-item">
<i class="fa fa-fw fa-download"></i>        Source of Part 2 (Eclipse Project)</a>
  </div>
</div>

          
          </div>
        </aside>
        <div class="col-md-9">
          <header class="article-header">
            <h1 class="article-title">JavaFX 2 Tutorial - Part 2: Model and TableView</h1>
            <div class="article-date">
  Nov 17, 2012
  • Updated Feb 08, 2013

</div>
          </header>
          
          <aside class="visible-xs-block visible-sm-block">
            <div class="btn-group sidebar-dropdown">
  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">Articles in this Series <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" role="menu">
      <li class=""><a href="/library/javafx-2-tutorial/">
        Introduction</a></li>
      <li class=""><a href="/library/javafx-2-tutorial/part1/">
        Part 1: Scene Builder</a></li>
      <li class=" active"><a href="/library/javafx-2-tutorial/part2/">
        Part 2: Model and TableView</a></li>
      <li class=""><a href="/library/javafx-2-tutorial/part3/">
        Part 3: Interacting with the User</a></li>
      <li class=""><a href="/library/javafx-2-tutorial/part4/">
        Part 4: CSS Styling</a></li>
      <li class=""><a href="/library/javafx-2-tutorial/part5/">
        Part 5: Storing Data as XML</a></li>
      <li class=""><a href="/library/javafx-2-tutorial/part6/">
        Part 6: Statistics Chart</a></li>
      <li class=""><a href="/library/javafx-2-tutorial/part7/">
        Part 7: Deployment with e(fx)clipse</a></li>
  </ul>
</div>
<div class="btn-group sidebar-dropdown">
  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">Download Sources <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" role="menu">
      <li class=""><a href="https://github.com/marcojakob/tutorial-javafx-2/releases/download/v1.0/addressapp-part-2.zip">
<i class="fa fa-fw fa-download"></i>        Source of Part 2 (Eclipse Project)</a></li>
  </ul>
</div>

            
          </aside>
          
          <div class="article-content">
            <div class="alert alert-danger">
  &rarr; UPDATED VERSION for Java 8 available: <a href="/library/javafx-8-tutorial/part2/" class="alert-link">JavaFX 8 Tutorial</a>
</div>

<p><img src="/assets/library/javafx-2-tutorial/part2/addressapp01.png" alt="Screenshot AddressApp Part 2"></p>
<h2 id="topics-in-part-2">Topics in Part 2</h2>
<ul>
<li>Creating a <strong>model</strong> class</li>
<li>Using the model class in an <strong>ObservableList</strong></li>
<li>Show data in the <strong>TableView</strong> using <strong>Controllers</strong></li>
</ul>
<hr>
<h2 id="create-the-model-class">Create the Model Class</h2>
<p>We need a model class to hold information about the people in our address book. Add a new class to the model package (<code>ch.makery.address.model</code>) called <code>Person</code>. This makes sense, since we want to manage people and their addresses. The <code>Person</code> class will have a few instance variables for the name, address and birthday. Add the following code to the class:</p>
<h5 id="person-java">Person.java</h5>
<pre class="prettyprint lang-java">
package ch.makery.address.model;

import java.util.Calendar;

/**
 * Model class for a Person.
 *
 * @author Marco Jakob
 */
public class Person {

    private String firstName;
    private String lastName;
    private String street;
    private int postalCode;
    private String city;
    private Calendar birthday;

    /**
     * Default constructor.
     */
    public Person() {
    }

    /**
     * Constructor with some initial data.
     * 
     * @param firstName
     * @param lastName
     */
    public Person(String firstName, String lastName) {
        this.firstName = firstName;
        this.lastName = lastName;

        // some initial dummy data
        this.street = "some street";
        this.postalCode = 1234;
        this.city = "some city";
        this.birthday = Calendar.getInstance();
    }

    public String getFirstName() {
        return firstName;
    }

    public void setFirstName(String firstName) {
        this.firstName = firstName;
    }

    public String getLastName() {
        return lastName;
    }

    public void setLastName(String lastName) {
        this.lastName = lastName;
    }

    public String getStreet() {
        return street;
    }

    public void setStreet(String street) {
        this.street = street;
    }

    public int getPostalCode() {
        return postalCode;
    }

    public void setPostalCode(int postalCode) {
        this.postalCode = postalCode;
    }

    public String getCity() {
        return city;
    }

    public void setCity(String city) {
        this.city = city;
    }

    public Calendar getBirthday() {
        return birthday;
    }

    public void setBirthday(Calendar birthday) {
        this.birthday = birthday;
    }
}
</pre>

<hr>
<h2 id="a-list-of-persons">A List of Persons</h2>
<p>The main Data that our application manages is a bunch of persons. Let's create a list for <code>Person</code> objects inside the <code>MainApp</code> class. All other controller classes will later get access to the list inside the <code>MainApp</code>. </p>
<h3 id="observablelist">ObservableList</h3>
<p>We are working with JavaFX view classes that always need to be informed about any changes made to the list of persons. This is important, since otherwise the view would not be in sync with the data. For this purpose, JavaFX introduces some new <a href="http://docs.oracle.com/javafx/2/collections/jfxpub-collections.htm">Collection classes</a>. </p>
<p>From those collections, we need the <code>ObservableList</code>. To create a new <code>ObservableList</code>, add the following code at the beginning of the <code>MainApp</code> class. We'll also add a constructor that creates some sample data and a public getter method:</p>
<h5 id="mainapp-java">MainApp.java</h5>
<pre class="prettyprint lang-java">
import javafx.collections.FXCollections;
import javafx.collections.ObservableList;

  // ...

    /**
     * The data as an observable list of Persons.
     */
    private ObservableList&lt;Person&gt; personData = FXCollections.observableArrayList();

    /**
     * Constructor
     */
    public MainApp() {
        // Add some sample data
        personData.add(new Person("Hans", "Muster"));
        personData.add(new Person("Ruth", "Mueller"));
        personData.add(new Person("Heinz", "Kurz"));
        personData.add(new Person("Cornelia", "Meier"));
        personData.add(new Person("Werner", "Meyer"));
        personData.add(new Person("Lydia", "Kunz"));
        personData.add(new Person("Anna", "Best"));
        personData.add(new Person("Stefan", "Meier"));
        personData.add(new Person("Martin", "Mueller"));
    }

    /**
     * Returns the data as an observable list of Persons. 
     * @return
     */
    public ObservableList&lt;Person&gt; getPersonData() {
        return personData;
    }

// ...
</pre>

<hr>
<h2 id="the-personoverviewcontroller">The PersonOverviewController</h2>
<p>Now let's finally view some data in our table.</p>
<ol>
<li>Create a normal class inside the controller package called <code>PersonOverviewController.java</code>.</li>
<li>We'll add some instance variables that give us access to the table and the labels inside the view. The fields and some methods have a special <code>@FXML</code> annotation. This is necessary for the fxml file to have access to those variables. After we have everything set up in the fxml file, the application will automatically fill the variables when the fxml file is loaded. So let's add the following code:</li>
</ol>
<p><strong>Note: Remember to always use the javafx imports (not awt or swing)!</strong></p>
<h5 id="personoverviewcontroller-java">PersonOverviewController.java</h5>
<pre class="prettyprint lang-java">
public class PersonOverviewController {
    @FXML
    private TableView&lt;Person&gt; personTable;
    @FXML
    private TableColumn&lt;Person, String&gt; firstNameColumn;
    @FXML
    private TableColumn&lt;Person, String&gt; lastNameColumn;

    @FXML
    private Label firstNameLabel;
    @FXML
    private Label lastNameLabel;
    @FXML
    private Label streetLabel;
    @FXML
    private Label postalCodeLabel;
    @FXML
    private Label cityLabel;
    @FXML
    private Label birthdayLabel;

    // Reference to the main application
    private MainApp mainApp;

    /**
     * The constructor.
     * The constructor is called before the initialize() method.
     */
    public PersonOverviewController() {
    }

    /**
     * Initializes the controller class. This method is automatically called
     * after the fxml file has been loaded.
     */
    @FXML
    private void initialize() {
    // Initialize the person table
        firstNameColumn.setCellValueFactory(new PropertyValueFactory&lt;Person, String&gt;("firstName"));
        lastNameColumn.setCellValueFactory(new PropertyValueFactory&lt;Person, String&gt;("lastName"));
    }

    /**
     * Is called by the main application to give a reference back to itself.
     * 
     * @param mainApp
     */
    public void setMainApp(MainApp mainApp) {
        this.mainApp = mainApp;

        // Add observable list data to the table
        personTable.setItems(mainApp.getPersonData());
    }
}
</pre>

<p>Now this code will need some explanation:</p>
<ul>
<li>All fields and methods where the fxml file needs access must be annotated with <code>@FXML</code>. Actually, only if they are private, but it's better to have them private and mark them with the annotation!.</li>
<li>The <code>initialize()</code> method is automatically called after the fxml file has been loaded. At this time, all the FXML fields should have been initialized already.</li>
<li>The <code>PropertyValueFactory</code> that we set on the table colums are used to determine which field inside the <code>Person</code> objects should be used for the particular column.</li>
<li>The <code>setMainApp(...)</code> method must be called by the <code>MainApp</code> class. This gives us a way to access the <code>MainApp</code> object and get the list of data and other things. In fact, let's do that call right now. Replace the <code>showPersonOverview()</code> method with the following. It contains two additional lines:</li>
</ul>
<h5 id="mainapp-java">MainApp.java</h5>
<pre class="prettyprint lang-java">
/**
 * Shows the person overview scene.
 */
public void showPersonOverview() {
    try {
        // Load the fxml file and set into the center of the main layout
        FXMLLoader loader = new FXMLLoader(MainApp.class.getResource("view/PersonOverview.fxml"));
        AnchorPane overviewPage = (AnchorPane) loader.load();
        rootLayout.setCenter(overviewPage);

        // Give the controller access to the main app
        PersonOverviewController controller = loader.getController();
        controller.setMainApp(this);

    } catch (IOException e) {
        // Exception gets thrown if the fxml file could not be loaded
        e.printStackTrace();
    }
}
</pre>

<hr>
<h2 id="hook-the-view-to-the-controller">Hook the View to the Controller</h2>
<p>We're almost there! But one little thing is missing: We haven't told our <code>PersonOverview.fxml</code> file yet, which controller to use and which element should match to which field inside the controller.</p>
<ol>
<li>Open <code>PersonOverview.fxml</code> with the Scene Builder.</li>
<li>Select the topmost <em>AnchorPane</em> in the Hierarchy.</li>
<li><p>Open <em>Code</em> on the right side and select the <code>PersonOverviewController</code> as <strong>controller class</strong>.<br><img src="/assets/library/javafx-2-tutorial/part2/addressapp02.png" alt="Set Controller Class"></p>
</li>
<li><p>Select the TableView and choose under Properties the <code>personTable</code> field as <strong>fx:id</strong>.<br><img src="/assets/library/javafx-2-tutorial/part2/addressapp03.png" alt="Set fx:id"></p>
</li>
<li><p>Do the same for the columns and select <code>firstNameColumn</code> and <code>lastNameColumn</code> respectively.</p>
</li>
<li>For each label in the second column, choose the corresponding <strong>fx:id</strong>.</li>
<li>Important: Go back to Eclipse and refresh the entire AddressApp project (F5). This is necessary because Eclipse sometimes doesn't know about changes that were made inside the Scene Builder.</li>
</ol>
<hr>
<h2 id="start-the-application">Start the Application</h2>
<p>When you start your application now, you should see something like the screenshot at the beginning of this blog post.   </p>
<p>Congratulations!</p>
<h3 id="what-s-next-">What's Next?</h3>
<p>In <a href="/library/javafx-2-tutorial/part3/">Tutorial Part 3</a> we will add more functionality like adding, deleting and editing Persons.</p>


          </div>
          
          <hr>
          
  <nav>
    <div class="article-paging">
      <ul class="pagination">
              <li>
      <a href="/library/javafx-2-tutorial/" data-toggle="tooltip" title="Introduction">Intro</a>
      </li>
        <li>
      <a href="/library/javafx-2-tutorial/part1/" data-toggle="tooltip" title="Part 1: Scene Builder">1</a>
      </li>
        <li class="active">
      <a href="/library/javafx-2-tutorial/part2/" data-toggle="tooltip" title="Part 2: Model and TableView">2</a>
      </li>
        <li>
      <a href="/library/javafx-2-tutorial/part3/" data-toggle="tooltip" title="Part 3: Interacting with the User">3</a>
      </li>
        <li>
      <a href="/library/javafx-2-tutorial/part4/" data-toggle="tooltip" title="Part 4: CSS Styling">4</a>
      </li>
        <li>
      <a href="/library/javafx-2-tutorial/part5/" data-toggle="tooltip" title="Part 5: Storing Data as XML">5</a>
      </li>
        <li>
      <a href="/library/javafx-2-tutorial/part6/" data-toggle="tooltip" title="Part 6: Statistics Chart">6</a>
      </li>
        <li>
      <a href="/library/javafx-2-tutorial/part7/" data-toggle="tooltip" title="Part 7: Deployment with e(fx)clipse">7</a>
      </li>
    
      </ul>
    </div>
  </nav>

        </div>
      </article>
      
      
      <section class="row">
        <div class="col-md-offset-3 col-md-9">
          <h2>Comments</h2>
          <div id="disqus_thread"></div>
        </div>
      </section>
      
    </div>
        
    <footer class="site-footer container-fluid">
  <div class="row">
    <div class="col-sm-offset-2 col-sm-8">
      <p>
        <a class="btn btn-sm btn-social-icon btn-twitter" href="https://twitter.com/codemakery" data-toggle="tooltip" data-placement="top" title="Follow me on Twitter">
          <i class="fa fa-twitter"></i>
        </a>
        <a class="btn btn-sm btn-social-icon btn-googleplus" href="https://plus.google.com/+MarcoJakob7" data-toggle="tooltip" data-placement="top" title="Follow me on Google+">
          <i class="fa fa-google-plus"></i>
        </a>
        <a class="btn btn-sm btn-social-icon btn-rss" href="/rss" data-toggle="tooltip" data-placement="top" title="Subscribe to RSS Feed">
          <i class="fa fa-rss"></i>
        </a>
        <a class="btn btn-sm btn-social-icon btn-mail" href="https://tinyletter.com/codemakery" data-toggle="tooltip" data-placement="top" title="Receive Email Updates">
          <i class="fa fa-envelope" style="margin-top: -1px;"></i>
        </a>
      </p>
      <p>
        Subscribe to receive updates by <a href="https://tinyletter.com/codemakery">Email</a>.
      </p>
      
      <form class="form-inline" action="https://tinyletter.com/codemakery" method="post" target="popupwindow" onsubmit="window.open('https://tinyletter.com/codemakery', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true">
        <div class="form-group">
          <input type="text" class="form-control" name="email" id="tlemail" placeholder="Enter email" />
          <input type="hidden" value="1" name="embed"/>
          <input type="submit" class="form-control btn-primary" value="Get updates" />
        </div>
      </form>
      
      <p>
        <small>
          Created by <a href="/about">Marco Jakob</a> • Licensed under <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0</a>
        </small>
      </p>
    </div>
  </div>
</footer>

    
    
    
  <script type="text/javascript" src="/theme/js/prettify.min.js"></script>

                                    
  <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'edumakery'; // Required - the forum shortname
    var disqus_identifier = 'http://edu.makery.ch/blog/2012/11/17/javafx-tutorial-addressapp-2/';
    var disqus_url = 'http://code.makery.ch/library/javafx-2-tutorial/part2/';
    var disqus_title = 'JavaFX 2 Tutorial - Part 2: Model and TableView';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>

    

    
      <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
      <script type="text/javascript" src="/theme/js/bootstrap.min.js"></script>
      <script type="text/javascript" src="/theme/js/bootstrap-init-tooltips.min.js"></script>
    
  </body>
</html>