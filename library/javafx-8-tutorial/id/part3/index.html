<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Tutorial JavaFX 8 - Bagian 3: Interaksi pengguna | code.makery.ch</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--
    /**
     * @license
     * MyFonts Webfont Build ID 2872352, 2014-08-27T06:57:40-0400
     * 
     * The fonts listed in this notice are subject to the End User License
     * Agreement(s) entered into by the website owner. All other parties are 
     * explicitly restricted from using the Licensed Webfonts(s).
     * 
     * You may obtain a valid license at the URLs below.
     * 
     * Webfont: Museo Slab 700 by exljbris
     * URL: http://www.myfonts.com/fonts/exljbris/museo-slab/700/
     * Copyright: Copyright (c) 2009 by Jos Buivenga. All rights reserved.
     * Licensed pageviews: 500,000
     * 
     * License: http://www.myfonts.com/viewlicense?type=web&buildid=2872352
     * 
     * © 2014 MyFonts Inc
    */
    -->
    <link href="/theme/css/style.min.css" rel="stylesheet" type="text/css" media="all" />
    <link rel="canonical" href="http://code.makery.ch/library/javafx-8-tutorial/id/part3/" />
  
    <!-- Alternate Languages -->
    <link rel="alternate" hreflang="en" href="http://code.makery.ch/library/javafx-8-tutorial/part3/" />
    <link rel="alternate" hreflang="es" href="http://code.makery.ch/library/javafx-8-tutorial/es/part3/" />
    <link rel="alternate" hreflang="fa" href="http://code.makery.ch/library/javafx-8-tutorial/fa/part3/" />
    <link rel="alternate" hreflang="fr" href="http://code.makery.ch/library/javafx-8-tutorial/fr/part3/" />
    <link rel="alternate" hreflang="id" href="http://code.makery.ch/library/javafx-8-tutorial/id/part3/" />
    <link rel="alternate" hreflang="it" href="http://code.makery.ch/library/javafx-8-tutorial/it/part3/" />
    <link rel="alternate" hreflang="pt" href="http://code.makery.ch/library/javafx-8-tutorial/pt/part3/" />
    <link rel="alternate" hreflang="ru" href="http://code.makery.ch/library/javafx-8-tutorial/ru/part3/" />
    <link rel="alternate" hreflang="tr" href="http://code.makery.ch/library/javafx-8-tutorial/tr/part3/" />
    <link rel="alternate" hreflang="uk" href="http://code.makery.ch/library/javafx-8-tutorial/uk/part3/" />
    <link rel="alternate" hreflang="zh-cn" href="http://code.makery.ch/library/javafx-8-tutorial/zh-cn/part3/" />

    <!-- RSS Feed -->
    <link rel="alternate" type="application/rss+xml" href="/rss" title="code.makery.ch - RSS Feed">

    <meta name="description" content="Bereaksi terhadap perubahan seleksi pada TableView. Menambah, memperbaharui, dan menghapus bulir-bulir dari table dan juga memvalidasi masukan pengguna.">

    <!-- Twitter Card data -->
    <meta name="twitter:card" value="summary">

    <!-- Open Graph data -->
    <meta property="og:title" content="Tutorial JavaFX 8 - Bagian 3: Interaksi pengguna | code.makery.ch" />
    <meta property="og:type" content="article" />
    <meta property="og:description" content="Bereaksi terhadap perubahan seleksi pada TableView. Menambah, memperbaharui, dan menghapus bulir-bulir dari table dan juga memvalidasi masukan pengguna." />
    <meta property="og:url" content="http://code.makery.ch/library/javafx-8-tutorial/id/part3/" />
    <meta property="og:image" content="http://code.makery.ch/assets/library/javafx-8-tutorial/part3/addressapp-part3.png" />
    
    <link rel="author" href="https://plus.google.com/+MarcoJakob7"/>
    
    <link href="/theme/css/prettify.min.css" rel="stylesheet" type="text/css" media="all" />

    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-34917397-3', 'makery.ch');
  ga('send', 'pageview');
</script>
  </head>
  <body onload="prettyPrint()">
    <header class="site-header container">
  <h1 class="site-title">
    <a href="/"><span class="main-text">code</span>.makery</a>
  </h1>
  <div class="site-intro">
    <p>Learning how to code.</p>
  </div>
  
  <div class="ribbon">
    <a href="https://tinyletter.com/codemakery" title="Get Updates">Subscribe to <i class="fa fa-envelope-o"></i> Updates </a>
  </div>
</header>
    
    <div class="container article-container">
      
<nav class="site-navigation">
  <ul>
    <li><a class="black-link" href="/">Home</a></li>
    <li><a class="main-link" href="/library/">Library</a></li>
    <li><a class="black-link" href="/paths/">Paths</a></li>
    <li><a class="black-link" href="/blog/">Blog</a></li>
    <li><a class="black-link" href="/about/">About</a></li>
  </ul>
</nav>
      
      <div class="row">
        <div class="col-md-12">
          <div class="github-edit">
            <a href="https://github.com/marcojakob/code.makery.ch/edit/master/collections/library/javafx-8-tutorial-id-part3.md">Edit on GitHub</a>
          </div>
        </div>
      </div>
      
      <article class="row">
        <aside class="col-md-3">
          <div class="visible-md-block visible-lg-block">
          <div class="panel panel-default sidebar">
  <div class="panel-heading">
    <h4 class="panel-title">Seri Artikel</h4>  
  </div>

  <div class="list-group">
      <a href="/library/javafx-8-tutorial/id/" class="list-group-item">
        Pengenalan</a>
      <a href="/library/javafx-8-tutorial/id/part1/" class="list-group-item">
        Bagian 1: Scene Builder</a>
      <a href="/library/javafx-8-tutorial/id/part2/" class="list-group-item">
        Bagian 2: Model dan TableView</a>
      <a href="/library/javafx-8-tutorial/id/part3/" class="list-group-item active">
        Bagian 3: Berinteraksi dengan pengguna</a>
      <a href="/library/javafx-8-tutorial/id/part4/" class="list-group-item">
        Bagian 4: Memberikan gaya dengan CSS</a>
      <a href="/library/javafx-8-tutorial/id/part5/" class="list-group-item">
        Bagian 5: Menyimpan data sebagai XML</a>
      <a href="/library/javafx-8-tutorial/id/part6/" class="list-group-item">
        Bagian 6: Bagan Statistika</a>
      <a href="/library/javafx-8-tutorial/id/part7/" class="list-group-item">
        Bagian 7: Penyebaran</a>
  </div>
</div>
<div class="panel panel-default sidebar">
  <div class="panel-heading">
    <h4 class="panel-title">Unduh kode sumber</h4>  
  </div>

  <div class="list-group">
      <a href="https://github.com/marcojakob/tutorial-javafx-8/releases/download/v1.1/addressapp-jfx8u40-part-3.zip" class="list-group-item">
<i class="fa fa-fw fa-download"></i>        Bagian 3 - Proyek dari Eclise <em>(Diperlukan setidaknya JDK 8u40)</em></a>
  </div>
</div>

          <div class="panel panel-default sidebar">
  <div class="panel-heading">
    <h4 class="panel-title">Bahasa</h4>  
  </div>
  <div class="list-group">
      <a href="/library/javafx-8-tutorial/part3/" class="list-group-item">
        <i class="fa fa-fw fa-globe"></i> English
      </a>
      <a href="/library/javafx-8-tutorial/es/part3/" class="list-group-item">
        <i class="fa fa-fw fa-globe"></i> Español
      </a>
      <a href="/library/javafx-8-tutorial/fa/part3/" class="list-group-item">
        <i class="fa fa-fw fa-globe"></i> فارسی
      </a>
      <a href="/library/javafx-8-tutorial/fr/part3/" class="list-group-item">
        <i class="fa fa-fw fa-globe"></i> Français
      </a>
      <a href="/library/javafx-8-tutorial/id/part3/" class="list-group-item active">
        <i class="fa fa-fw fa-globe"></i> Bahasa Indonesia
      </a>
      <a href="/library/javafx-8-tutorial/it/part3/" class="list-group-item">
        <i class="fa fa-fw fa-globe"></i> Italiano
      </a>
      <a href="/library/javafx-8-tutorial/pt/part3/" class="list-group-item">
        <i class="fa fa-fw fa-globe"></i> Português
      </a>
      <a href="/library/javafx-8-tutorial/ru/part3/" class="list-group-item">
        <i class="fa fa-fw fa-globe"></i> Русский
      </a>
      <a href="/library/javafx-8-tutorial/tr/part3/" class="list-group-item">
        <i class="fa fa-fw fa-globe"></i> Türkçe
      </a>
      <a href="/library/javafx-8-tutorial/uk/part3/" class="list-group-item">
        <i class="fa fa-fw fa-globe"></i> Українська
      </a>
      <a href="/library/javafx-8-tutorial/zh-cn/part3/" class="list-group-item">
        <i class="fa fa-fw fa-globe"></i> 中文（简体）
      </a>
  </div>
</div>

          </div>
        </aside>
        <div class="col-md-9">
          <header class="article-header">
            <h1 class="article-title">Tutorial JavaFX 8 - Bagian 3: Interaksi pengguna</h1>
            <div class="article-date">
  Apr 24, 2014
  • Updated Mar 12, 2015

</div>
          </header>
          
          <aside class="visible-xs-block visible-sm-block">
            <div class="btn-group sidebar-dropdown">
  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">Seri Artikel <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" role="menu">
      <li class=""><a href="/library/javafx-8-tutorial/id/">
        Pengenalan</a></li>
      <li class=""><a href="/library/javafx-8-tutorial/id/part1/">
        Bagian 1: Scene Builder</a></li>
      <li class=""><a href="/library/javafx-8-tutorial/id/part2/">
        Bagian 2: Model dan TableView</a></li>
      <li class=" active"><a href="/library/javafx-8-tutorial/id/part3/">
        Bagian 3: Berinteraksi dengan pengguna</a></li>
      <li class=""><a href="/library/javafx-8-tutorial/id/part4/">
        Bagian 4: Memberikan gaya dengan CSS</a></li>
      <li class=""><a href="/library/javafx-8-tutorial/id/part5/">
        Bagian 5: Menyimpan data sebagai XML</a></li>
      <li class=""><a href="/library/javafx-8-tutorial/id/part6/">
        Bagian 6: Bagan Statistika</a></li>
      <li class=""><a href="/library/javafx-8-tutorial/id/part7/">
        Bagian 7: Penyebaran</a></li>
  </ul>
</div>
<div class="btn-group sidebar-dropdown">
  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">Unduh kode sumber <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" role="menu">
      <li class=""><a href="https://github.com/marcojakob/tutorial-javafx-8/releases/download/v1.1/addressapp-jfx8u40-part-3.zip">
<i class="fa fa-fw fa-download"></i>        Bagian 3 - Proyek dari Eclise <em>(Diperlukan setidaknya JDK 8u40)</em></a></li>
  </ul>
</div>

            <div class="btn-group sidebar-dropdown">
  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">Bahasa <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" role="menu">
      <li class="">
        <a href="/library/javafx-8-tutorial/part3/"><i class="fa fa-fw fa-globe"></i> English</a>
    </li>
      <li class="">
        <a href="/library/javafx-8-tutorial/es/part3/"><i class="fa fa-fw fa-globe"></i> Español</a>
    </li>
      <li class="">
        <a href="/library/javafx-8-tutorial/fa/part3/"><i class="fa fa-fw fa-globe"></i> فارسی</a>
    </li>
      <li class="">
        <a href="/library/javafx-8-tutorial/fr/part3/"><i class="fa fa-fw fa-globe"></i> Français</a>
    </li>
      <li class=" active">
        <a href="/library/javafx-8-tutorial/id/part3/"><i class="fa fa-fw fa-globe"></i> Bahasa Indonesia</a>
    </li>
      <li class="">
        <a href="/library/javafx-8-tutorial/it/part3/"><i class="fa fa-fw fa-globe"></i> Italiano</a>
    </li>
      <li class="">
        <a href="/library/javafx-8-tutorial/pt/part3/"><i class="fa fa-fw fa-globe"></i> Português</a>
    </li>
      <li class="">
        <a href="/library/javafx-8-tutorial/ru/part3/"><i class="fa fa-fw fa-globe"></i> Русский</a>
    </li>
      <li class="">
        <a href="/library/javafx-8-tutorial/tr/part3/"><i class="fa fa-fw fa-globe"></i> Türkçe</a>
    </li>
      <li class="">
        <a href="/library/javafx-8-tutorial/uk/part3/"><i class="fa fa-fw fa-globe"></i> Українська</a>
    </li>
      <li class="">
        <a href="/library/javafx-8-tutorial/zh-cn/part3/"><i class="fa fa-fw fa-globe"></i> 中文（简体）</a>
    </li>
  </ul>
</div>

          </aside>
          
          <div class="article-content">
            <p><img src="/assets/library/javafx-8-tutorial/part3/addressapp-part3.png" alt="Tangkapan layar AddressApp bagian 3"></p>
<h2 id="pembahasan-dibagian-3">Pembahasan dibagian 3</h2>
<ul>
<li><strong>Beraksi pada perubahan pemilihan</strong> pada table.</li>
<li>Menambah fungsi tombol <strong>tambah</strong>, <strong>pembaharuan</strong>, dan <strong>hapus</strong>.</li>
<li>Buat <strong>dialog munculan</strong> untuk memperbaharui person.</li>
<li><strong>Validasi masukan pengguna</strong>.</li>
</ul>
<hr>
<h2 id="beraksi-pada-pemilihan-table">Beraksi Pada Pemilihan Table</h2>
<p>Jelas kita belum menggunakan sisi tepat dari aplikasi. Ide untuk menampilkan detail mengengai person disi kanan ketika pengguuna memilih person di table.</p>
<p>Pertama tambah metode didalam <code>PersonOverviewController</code> yang membantu kita untuk mengisi label-label dengan data dari sebuah <code>Person</code>.</p>
<p>Buat metode bernama <code>showPersonDetails(Person person)</code>. Buat semua label-label dengan mengatur teks menggunakan <code>setText(...)</code> dengan detail dari person. Jika parameter <code>null</code> dilewatkan, maka semua label harus bersih.</p>
<h5 id="personoverviewcontroller-java">PersonOverviewController.java</h5>
<pre class="prettyprint lang-java">
/**
 * Fills all text fields to show details about the person.
 * If the specified person is null, all text fields are cleared.
 * 
 * @param person the person or null
 */
private void showPersonDetails(Person person) {
    if (person != null) {
        // Fill the labels with info from the person object.
        firstNameLabel.setText(person.getFirstName());
        lastNameLabel.setText(person.getLastName());
        streetLabel.setText(person.getStreet());
        postalCodeLabel.setText(Integer.toString(person.getPostalCode()));
        cityLabel.setText(person.getCity());

        // TODO: We need a way to convert the birthday into a String! 
        // birthdayLabel.setText(...);
    } else {
        // Person is null, remove all the text.
        firstNameLabel.setText("");
        lastNameLabel.setText("");
        streetLabel.setText("");
        postalCodeLabel.setText("");
        cityLabel.setText("");
        birthdayLabel.setText("");
    }
}
</pre>


<h3 id="mengganti-birthday-date-ke-string">Mengganti Birthday Date ke String</h3>
<p>Anda akan melihat bahwa kita tidak dapat mengatur <code>birthday</code> ke label <code>Label</code> dikarenakan memiliki tipe <code>LocalDate</code> dan bukan <code>String</code>. Kita perlu membentuk tanggal lebih dahulu.</p>
<p>Kita akan menggunakan perubahan dari <code>LocalDate</code> dan <code>String</code> di beberapa tempat. Ini praktik yang baik unutk menciptakan kelas pembantu dengan metode <code>static</code>. Kita akan memanggil ini <code>DateUtil</code> dan menaruh dipaket terpisah  bernama <code>ch.makery.address.util</code>:</p>
<h5 id="dateutil-java">DateUtil.java</h5>
<pre class="prettyprint lang-java">
package ch.makery.address.util;

import java.time.LocalDate;
import java.time.format.DateTimeFormatter;
import java.time.format.DateTimeParseException;

/**
 * Helper functions for handling dates.
 * 
 * @author Marco Jakob
 */
public class DateUtil {

    /** The date pattern that is used for conversion. Change as you wish. */
    private static final String DATE_PATTERN = "dd.MM.yyyy";

    /** The date formatter. */
    private static final DateTimeFormatter DATE_FORMATTER = 
            DateTimeFormatter.ofPattern(DATE_PATTERN);

    /**
     * Returns the given date as a well formatted String. The above defined 
     * {@link DateUtil#DATE_PATTERN} is used.
     * 
     * @param date the date to be returned as a string
     * @return formatted string
     */
    public static String format(LocalDate date) {
        if (date == null) {
            return null;
        }
        return DATE_FORMATTER.format(date);
    }

    /**
     * Converts a String in the format of the defined {@link DateUtil#DATE_PATTERN} 
     * to a {@link LocalDate} object.
     * 
     * Returns null if the String could not be converted.
     * 
     * @param dateString the date as String
     * @return the date object or null if it could not be converted
     */
    public static LocalDate parse(String dateString) {
        try {
            return DATE_FORMATTER.parse(dateString, LocalDate::from);
        } catch (DateTimeParseException e) {
            return null;
        }
    }

    /**
     * Checks the String whether it is a valid date.
     * 
     * @param dateString
     * @return true if the String is a valid date
     */
    public static boolean validDate(String dateString) {
        // Try to parse the String.
        return DateUtil.parse(dateString) != null;
    }
}
</pre>

<div class="alert alert-info">
<strong>Petunjuk:</strong> Kamu bisa merubah bentu dari tanggal dengan mengganti
<code>DATE_PATTERN</code>. Untuk semua kemungkinan pola ang ada lihat <a class="alert-link" href="http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html">DateTimeFormatter</a>.
</div>


<h4 id="gunakan-dateutil">Gunakan DateUtil</h4>
<p>Sekarang kita perlu menggunakan <code>DateUtil</code> yang baru di metod <code>showPersonDetails</code> dari <code>PersonOverviewController</code>. Ganti <em>TODO</em> yang telah ada sebelumnya dengan baris berikut:</p>
<pre class="prettyprint lang-java">
birthdayLabel.setText(DateUtil.format(person.getBirthday()));
</pre>


<h3 id="mendengarkan-perubahan-pemilihan">Mendengarkan Perubahan Pemilihan</h3>
<p>Untuk mendapat informasi ketika pengguna memilih person di tabel person, kita perlu <em>mendengarkan perubahan-perubahan</em>.</p>
<p>Ada antarmuka yang di JavaFX bernama <a href="http://docs.oracle.com/javase/8/javafx/api/"><code>ChangeListener</code></a> dengan sebuah metode bernama <code>changed(...)</code>. Metode ini memiliki tiga parameter: <code>observable</code>, <code>oldValue</code>, and <code>newValue</code>.</p>
<p>Kita akan menciptakan sebuah <code>ChangeListener</code> menggunakan Java 8 <em>lambda expression</em>. Mari tambahkan beberapa baris ke metode <code>initialize()</code> didalam<code>PersonOverviewController</code>. Sekarang ini terlihat seperti ini:</p>
<h5 id="personoverviewcontroller-java">PersonOverviewController.java</h5>
<pre class="prettyprint lang-java">
@FXML
private void initialize() {
    // Initialize the person table with the two columns.
    firstNameColumn.setCellValueFactory(
            cellData -> cellData.getValue().firstNameProperty());
    lastNameColumn.setCellValueFactory(
            cellData -> cellData.getValue().lastNameProperty());

    // Clear person details.
    showPersonDetails(null);

    // Listen for selection changes and show the person details when changed.
    personTable.getSelectionModel().selectedItemProperty().addListener(
            (observable, oldValue, newValue) -> showPersonDetails(newValue));
}
</pre>

<p>Dengan <code>showPersonDetails(null);</code> kita mengatur ulang person detail.</p>
<p>Dengan <code>personTable.getSelectionModel...</code> kita mendapatkan <em>selectedItemProperty</em> dari tabel person dan menambah pendengar. Kapan saja pengguna memilih person di tabel <em>Ekspresi lambda</em> di eksekusi. Kita mengambil person baru terpilih dan melewatkannya ke metode  <code>showPersonDetails(...)</code>.</p>
<p>Coba <strong>jalankan aplikasi anda</strong>, pastikan ketika anda memilih person di tabel, detail mengenai person ditampilkan pada sisi kanan.</p>
<p>Jika tidak berfungsi, anda bisa membandingkan kelas <code>PersonOverviewController</code> punya anda dengan <a href="/assets/library/javafx-8-tutorial/part3/PersonOverviewController.java">PersonOverviewController.java</a>.</p>
<hr>
<h2 id="tombol-hapus">Tombol Hapus</h2>
<p>Antarmuka pengguna telah berisi tombol hapus, tapi tanpa fungsi. Kita kan membuat aksi untuk tombol didalam <em>Scene Builder</em>. Metode apapun didalam kontroller kita yang berketerangan <code>@FXML</code> (atau publik) adalah dapat diakses oleh  <em>Scene Builder</em>. Jadi, mari pertama kita tambahkan metode hapus pada akhir kelas <code>PersonOverviewController</code>:</p>
<h5 id="personoverviewcontroller-java">PersonOverviewController.java</h5>
<pre class="prettyprint lang-java">
/**
 * Called when the user clicks on the delete button.
 */
@FXML
private void handleDeletePerson() {
    int selectedIndex = personTable.getSelectionModel().getSelectedIndex();
    personTable.getItems().remove(selectedIndex);
}
</pre>

<p>Sekarang buka berkas <code>PersonOverview.fxml</code> dari <em>SceneBuilder</em>. Pilih tombol hapus, buka kelompok <em>Code</em> dan pilih <code>handleDeletePerson</code> di dropdown of <strong>On Action</strong>.</p>
<p><img src="/assets/library/javafx-8-tutorial/part3/handle-delete.png" alt="Sedang beraksi"></p>
<div class="alert alert-info">
<strong>Ingat:</strong> Setelah membuat perubahan pada berkas FXML di Scene Builder, mungkin perlu di segarkan (f5) pada Eclipse, agar perubahan diterapkan.
</div>



<h3 id="penanganan-kesalahan">Penanganan Kesalahan</h3>
<p>Jika anda menjalankan Aplikasi, anda seharusnya dapat menghapus person terpilih dari tabel. Tapi apa yang terjadi jika <strong>tombol delete di klik, tapi tiada person yang terpilih di tabel ?</strong></p>
<p>Akan ada <code>ArrayIndexOutOfBoundsException</code> karena tidak dapat menghapus person pada indeks -1. Indeks -1 dikembalikan oleh <code>getSelectedIndex()</code> - yang berarti tidak ada terpilih.</p>
<p>Tentu saja mengabaikan kesalahan seperti ini tidak bagus. Kita harus membiarkan pengguna tahu bahwa dia harus memilih person sebelum melakukan penghapusan. (Bahkan lebih baik jika kita melumpuhkan tombol hapus sehingga pengguna tidak dapat kesempatan untuk melakukan hal yang salah).</p>
<p>Kita akan menambah dialog munculan untuk memberitahu pengguna. Anda akan perlu <strong>menambah pustaka</strong> untuk <a href="/blog/javafx-8-dialogs/">Dialogs</a>: </p>
<p>Dengan beberapa perubahan pada metode <code>handleDeletePerson()</code>, kita bisa menampilkan dialog munculan sederhana ketika pengguna tekan tombol hapus saat tidak ada persoon terpilih pada tabel:</p>
<h5 id="personoverviewcontroller-java">PersonOverviewController.java</h5>
<pre class="prettyprint lang-java">
/**
 * Called when the user clicks on the delete button.
 */
@FXML
private void handleDeletePerson() {
    int selectedIndex = personTable.getSelectionModel().getSelectedIndex();
    if (selectedIndex >= 0) {
        personTable.getItems().remove(selectedIndex);
    } else {
        // Nothing selected.
        Dialogs.create()
        Alert alert = new Alert(AlertType.WARNING);
    alert.initOwner(mainApp.getPrimaryStage());
    alert.setTitle("No Selection");
    alert.setHeaderText("No Person Selected");
    alert.setContentText("Please select a person in the table.");

    alert.showAndWait();
    }
}
</pre>

<div class="alert alert-info">
Untuk lebih banyak contoh bagaimana menggunakan Dialogs baca <a class="alert-link" href="/blog/javafx-dialogs-official/">JavaFX 8 Dialogs</a>.
</div>



<hr>
<h2 id="dialog-baru-dan-pembaharuan">Dialog Baru dan Pembaharuan</h2>
<p>Aksi baru dan pembaharuan perlu sedikit tindakan: Kita akan perlu kustom dialog (stage baru) dengan bentuk meminta pengguna untuk detail tentang person.</p>
<h3 id="desain-dialog">Desain Dialog</h3>
<ol>
<li><p>Buat fxml baru bernama <code>PersonEditDialog.fxml</code> didalam paket <em>view</em>.<br><img src="/assets/library/javafx-8-tutorial/part3/person-edit-dialog1.png" alt="Buat Dialog pembaharuan"></p>
</li>
<li><p>Gunakan <code>GridPane</code>, <code>Label</code>, <code>TextField</code> dan <code>Button</code> untuk membuat dalog seperti:<br><img src="/assets/library/javafx-8-tutorial/part3/person-edit-dialog2.png" alt="Dialog pembaharuan">   </p>
</li>
</ol>
<p><em>Jika anda tidak ingin repot, bisa mengunduh pada <a href="/assets/library/javafx-8-tutorial/part3/PersonEditDialog.fxml">PersonEditDialog.fxml</a>.</em> </p>
<h3 id="buat-pengendali">Buat Pengendali</h3>
<p>Buat Pengendali untuk Dialog sebagai <code>PersonEditDialogController.java</code>:</p>
<h5 id="personeditdialogcontroller-java">PersonEditDialogController.java</h5>
<pre class="prettyprint lang-java pre-scrollable">
package ch.makery.address.view;

import javafx.fxml.FXML;
import javafx.scene.control.Alert;
import javafx.scene.control.Alert.AlertType;
import javafx.scene.control.TextField;
import javafx.stage.Stage;

import org.controlsfx.dialog.Dialogs;

import ch.makery.address.model.Person;
import ch.makery.address.util.DateUtil;

/**
 * Dialog to edit details of a person.
 * 
 * @author Marco Jakob
 */
public class PersonEditDialogController {

    @FXML
    private TextField firstNameField;
    @FXML
    private TextField lastNameField;
    @FXML
    private TextField streetField;
    @FXML
    private TextField postalCodeField;
    @FXML
    private TextField cityField;
    @FXML
    private TextField birthdayField;


    private Stage dialogStage;
    private Person person;
    private boolean okClicked = false;

    /**
     * Initializes the controller class. This method is automatically called
     * after the fxml file has been loaded.
     */
    @FXML
    private void initialize() {
    }

    /**
     * Sets the stage of this dialog.
     * 
     * @param dialogStage
     */
    public void setDialogStage(Stage dialogStage) {
        this.dialogStage = dialogStage;
    }

    /**
     * Sets the person to be edited in the dialog.
     * 
     * @param person
     */
    public void setPerson(Person person) {
        this.person = person;

        firstNameField.setText(person.getFirstName());
        lastNameField.setText(person.getLastName());
        streetField.setText(person.getStreet());
        postalCodeField.setText(Integer.toString(person.getPostalCode()));
        cityField.setText(person.getCity());
        birthdayField.setText(DateUtil.format(person.getBirthday()));
        birthdayField.setPromptText("dd.mm.yyyy");
    }

    /**
     * Returns true if the user clicked OK, false otherwise.
     * 
     * @return
     */
    public boolean isOkClicked() {
        return okClicked;
    }

    /**
     * Called when the user clicks ok.
     */
    @FXML
    private void handleOk() {
        if (isInputValid()) {
            person.setFirstName(firstNameField.getText());
            person.setLastName(lastNameField.getText());
            person.setStreet(streetField.getText());
            person.setPostalCode(Integer.parseInt(postalCodeField.getText()));
            person.setCity(cityField.getText());
            person.setBirthday(DateUtil.parse(birthdayField.getText()));

            okClicked = true;
            dialogStage.close();
        }
    }

    /**
     * Called when the user clicks cancel.
     */
    @FXML
    private void handleCancel() {
        dialogStage.close();
    }

    /**
     * Validates the user input in the text fields.
     * 
     * @return true if the input is valid
     */
    private boolean isInputValid() {
        String errorMessage = "";

        if (firstNameField.getText() == null || firstNameField.getText().length() == 0) {
            errorMessage += "No valid first name!\n"; 
        }
        if (lastNameField.getText() == null || lastNameField.getText().length() == 0) {
            errorMessage += "No valid last name!\n"; 
        }
        if (streetField.getText() == null || streetField.getText().length() == 0) {
            errorMessage += "No valid street!\n"; 
        }

        if (postalCodeField.getText() == null || postalCodeField.getText().length() == 0) {
            errorMessage += "No valid postal code!\n"; 
        } else {
            // try to parse the postal code into an int.
            try {
                Integer.parseInt(postalCodeField.getText());
            } catch (NumberFormatException e) {
                errorMessage += "No valid postal code (must be an integer)!\n"; 
            }
        }

        if (cityField.getText() == null || cityField.getText().length() == 0) {
            errorMessage += "No valid city!\n"; 
        }

        if (birthdayField.getText() == null || birthdayField.getText().length() == 0) {
            errorMessage += "No valid birthday!\n";
        } else {
            if (!DateUtil.validDate(birthdayField.getText())) {
                errorMessage += "No valid birthday. Use the format dd.mm.yyyy!\n";
            }
        }

        if (errorMessage.length() == 0) {
            return true;
        } else {
            // Show the error message.
            Dialogs.create()
                Alert alert = new Alert(AlertType.ERROR);
                alert.initOwner(dialogStage);
                alert.setTitle("Invalid Fields");
                alert.setHeaderText("Please correct invalid fields");
                alert.setContentText(errorMessage);

                alert.showAndWait();
            return false;
        }
    }
}
</pre>

<p>Beberapa hal mengenai pengendali ini:</p>
<ul>
<li>Metode <code>setPerson(...)</code> dapat dipanggil dari kelas lain untuk mengatur person yang di perbaharui.</li>
<li>Ketika pengguna menekan tombol OK, metode <code>handleOk()</code> dipanggil. Pertama beberapa validasi dilakukan dengan memanggil metode <code>isInputValid()</code>. Hanya jika validasi telah berhasil, objek person di isi dengan data yang telah dimasukan oleh pengguna. Perubahan ini akan secara langsung di terapkan ke objek person yang telah di lewatkan ke <code>setPerson(...)</code>!</li>
<li>boolean <code>okClicked</code> digunakan sehinga pemanggil dapat menentukan ketika pengguna menekan tombol Ok atau Cancel.</li>
</ul>
<h3 id="kaitkan-tampilan-dan-pengendali">Kaitkan Tampilan dan Pengendali</h3>
<p>Dengan dibuatnya tampilan (fxml) dan pengendali, kita perlu menghubungkan mereka bersama:</p>
<ol>
<li>Buka <code>PersonEditDialog.fxml</code>.</li>
<li>Di kelompok <em>Controller</em> dibagian kiri, pilih <code>PersonEditDialogController</code> sebagai kelas controller class.</li>
<li>Atur <strong>fx:id</strong> pada semua <code>TextField</code> dengan pengendali yang sesuai.</li>
<li>Atur <strong>onAction</strong> dari dua tombol ke metode penanganan yang sesuai.</li>
</ol>
<h3 id="membuka-dialog">Membuka Dialog</h3>
<p>Tambah metode untuk memuat dan menampilkan person dialog didalam <code>MainApp</code>:   </p>
<h5 id="mainapp-java">MainApp.java</h5>
<pre class="prettyprint lang-java">
/**
 * Opens a dialog to edit details for the specified person. If the user
 * clicks OK, the changes are saved into the provided person object and true
 * is returned.
 * 
 * @param person the person object to be edited
 * @return true if the user clicked OK, false otherwise.
 */
public boolean showPersonEditDialog(Person person) {
    try {
        // Load the fxml file and create a new stage for the popup dialog.
        FXMLLoader loader = new FXMLLoader();
        loader.setLocation(MainApp.class.getResource("view/PersonEditDialog.fxml"));
        AnchorPane page = (AnchorPane) loader.load();

        // Create the dialog Stage.
        Stage dialogStage = new Stage();
        dialogStage.setTitle("Edit Person");
        dialogStage.initModality(Modality.WINDOW_MODAL);
        dialogStage.initOwner(primaryStage);
        Scene scene = new Scene(page);
        dialogStage.setScene(scene);

        // Set the person into the controller.
        PersonEditDialogController controller = loader.getController();
        controller.setDialogStage(dialogStage);
        controller.setPerson(person);

        // Show the dialog and wait until the user closes it
        dialogStage.showAndWait();

        return controller.isOkClicked();
    } catch (IOException e) {
        e.printStackTrace();
        return false;
    }
}
</pre>

<p>Tambahkan metode berikut pada <code>PersonOverviewController</code>. Metode-metode ini akan memanggil <code>showPersonEditDialog(...)</code> dari<code>MainApp</code> ketika pengguna menekan tombol baru atau pembaharuan.   </p>
<h5 id="personoverviewcontroller-java">PersonOverviewController.java</h5>
<pre class="prettyprint lang-java">
/**
 * Called when the user clicks the new button. Opens a dialog to edit
 * details for a new person.
 */
@FXML
private void handleNewPerson() {
    Person tempPerson = new Person();
    boolean okClicked = mainApp.showPersonEditDialog(tempPerson);
    if (okClicked) {
        mainApp.getPersonData().add(tempPerson);
    }
}

/**
 * Called when the user clicks the edit button. Opens a dialog to edit
 * details for the selected person.
 */
@FXML
private void handleEditPerson() {
    Person selectedPerson = personTable.getSelectionModel().getSelectedItem();
    if (selectedPerson != null) {
        boolean okClicked = mainApp.showPersonEditDialog(selectedPerson);
        if (okClicked) {
            showPersonDetails(selectedPerson);
        }

    } else {
        // Nothing selected.
        Dialogs.create()
            Alert alert = new Alert(AlertType.WARNING);
            alert.initOwner(mainApp.getPrimaryStage());
            alert.setTitle("No Selection");
            alert.setHeaderText("No Person Selected");
            alert.setContentText("Please select a person in the table.");

            alert.showAndWait();
    }
}
</pre>

<p>Buka berkas <code>PersonOverview.fxml</code> di Scene Builder. Pilih metode yang sesuai di <em>On Action</em> ntuk tombol baru dan pembaharuan.</p>
<hr>
<h2 id="selesai-">Selesai!</h2>
<p>nda seharusnya memiliki <em>Address Application</em> yang telah berfungsi. Aplikasi ini telah dapat menambah, pembaharuan, dan menghapus persons. Bahkan ada beberapa pengesahan untuk bidang teks untuk menghindari kesalahan masukan dari pengguna.</p>
<p>Saya harap konsep dan struktur dari aplikasi ini akan dapat membuat anda menulis Aplikasi JavaFX anda sendri.</p>
<h3 id="berikutnya-">Berikutnya?</h3>
<p><a href="/library/javafx-8-tutorial/id/part4/">Tutorial Bagian 4</a> kita akan menambahkan gaya CSS.</p>
<h5 id="beberapa-artikel-menarik-lainnya">Beberapa artikel menarik lainnya</h5>
<ul>
<li><a href="/blog/javafx-dialogs-official/">JavaFX Dialogs (official)</a></li>
<li><a href="/blog/javafx-8-date-picker/">JavaFX Date Picker</a></li>
<li><a href="/blog/javafx-8-event-handling-examples/">JavaFX Event Handling Examples</a></li>
<li><a href="/blog/javafx-8-tableview-sorting-filtering/">JavaFX TableView Sorting and Filtering</a></li>
<li><a href="/blog/javafx-8-tableview-cell-renderer/">JavaFX TableView Cell Renderer</a></li>
</ul>


          </div>
          
          <hr>
          
  <nav>
    <div class="article-paging">
      <ul class="pagination">
              <li>
      <a href="/library/javafx-8-tutorial/id/" data-toggle="tooltip" title="Pengenalan">Intro</a>
      </li>
        <li>
      <a href="/library/javafx-8-tutorial/id/part1/" data-toggle="tooltip" title="Bagian 1: Scene Builder">1</a>
      </li>
        <li>
      <a href="/library/javafx-8-tutorial/id/part2/" data-toggle="tooltip" title="Bagian 2: Model dan TableView">2</a>
      </li>
        <li class="active">
      <a href="/library/javafx-8-tutorial/id/part3/" data-toggle="tooltip" title="Bagian 3: Berinteraksi dengan pengguna">3</a>
      </li>
        <li>
      <a href="/library/javafx-8-tutorial/id/part4/" data-toggle="tooltip" title="Bagian 4: Memberikan gaya dengan CSS">4</a>
      </li>
        <li>
      <a href="/library/javafx-8-tutorial/id/part5/" data-toggle="tooltip" title="Bagian 5: Menyimpan data sebagai XML">5</a>
      </li>
        <li>
      <a href="/library/javafx-8-tutorial/id/part6/" data-toggle="tooltip" title="Bagian 6: Bagan Statistika">6</a>
      </li>
        <li>
      <a href="/library/javafx-8-tutorial/id/part7/" data-toggle="tooltip" title="Bagian 7: Penyebaran">7</a>
      </li>
    
      </ul>
    </div>
  </nav>

        </div>
      </article>
      
      
      <section class="row">
        <div class="col-md-offset-3 col-md-9">
          <h2>Comments</h2>
          <div id="disqus_thread"></div>
        </div>
      </section>
      
    </div>
        
    <footer class="site-footer container-fluid">
  <div class="row">
    <div class="col-sm-offset-2 col-sm-8">
      <p>
        <a class="btn btn-sm btn-social-icon btn-twitter" href="https://twitter.com/codemakery" data-toggle="tooltip" data-placement="top" title="Follow me on Twitter">
          <i class="fa fa-twitter"></i>
        </a>
        <a class="btn btn-sm btn-social-icon btn-googleplus" href="https://plus.google.com/+MarcoJakob7" data-toggle="tooltip" data-placement="top" title="Follow me on Google+">
          <i class="fa fa-google-plus"></i>
        </a>
        <a class="btn btn-sm btn-social-icon btn-rss" href="/rss" data-toggle="tooltip" data-placement="top" title="Subscribe to RSS Feed">
          <i class="fa fa-rss"></i>
        </a>
        <a class="btn btn-sm btn-social-icon btn-mail" href="https://tinyletter.com/codemakery" data-toggle="tooltip" data-placement="top" title="Receive Email Updates">
          <i class="fa fa-envelope" style="margin-top: -1px;"></i>
        </a>
      </p>
      <p>
        Subscribe to receive updates by <a href="https://tinyletter.com/codemakery">Email</a>.
      </p>
      
      <form class="form-inline" action="https://tinyletter.com/codemakery" method="post" target="popupwindow" onsubmit="window.open('https://tinyletter.com/codemakery', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true">
        <div class="form-group">
          <input type="text" class="form-control" name="email" id="tlemail" placeholder="Enter email" />
          <input type="hidden" value="1" name="embed"/>
          <input type="submit" class="form-control btn-primary" value="Get updates" />
        </div>
      </form>
      
      <p>
        <small>
          Created by <a href="/about">Marco Jakob</a> • Licensed under <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0</a>
        </small>
      </p>
    </div>
  </div>
</footer>

    
    
    
  <script type="text/javascript" src="/theme/js/prettify.min.js"></script>

                                    
  <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'codemakery'; // Required - the forum shortname
    var disqus_identifier = '/library/javafx-8-tutorial/id/part3/';
    var disqus_url = 'http://code.makery.ch/library/javafx-8-tutorial/id/part3/';
    var disqus_title = 'Tutorial JavaFX 8 - Bagian 3: Interaksi pengguna';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>

    

    
      <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
      <script type="text/javascript" src="/theme/js/bootstrap.min.js"></script>
      <script type="text/javascript" src="/theme/js/bootstrap-init-tooltips.min.js"></script>
    
  </body>
</html>